import{i as P,r as b,a as O,b as B,e as x,w as E,f as F,u as p,h as M,j as R,o as w,k as C,F as j,l as z,m as S,p as $,c as I,q as T}from"./entry-a1c6b58f.mjs";import A from"./RepresentCategory-c191b65f.mjs";import"./path-547c5d89.mjs";const H=o=>P(o)?o:b(o),N=()=>null;function q(...o){var y,m,h,_,v,g,D;const c=typeof o[o.length-1]=="string"?o.pop():void 0;typeof o[0]!="string"&&o.unshift(c);let[n,s,e={}]=o;if(typeof n!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");e.server=(y=e.server)!=null?y:!0,e.default=(m=e.default)!=null?m:N,e.defer&&console.warn("[useAsyncData] `defer` has been renamed to `lazy`. Support for `defer` will be removed in RC."),e.lazy=(_=(h=e.lazy)!=null?h:e.defer)!=null?_:!1,e.initialCache=(v=e.initialCache)!=null?v:!0;const t=O(),u=F();if(u&&!u._nuxtOnBeforeMountCbs){const r=u._nuxtOnBeforeMountCbs=[];u&&(B(()=>{r.forEach(i=>{i()}),r.splice(0,r.length)}),x(()=>r.splice(0,r.length)))}const f=()=>e.initialCache&&t.payload.data[n]!==void 0,a={data:H((g=t.payload.data[n])!=null?g:e.default()),pending:b(!f()),error:b((D=t.payload._errors[n])!=null?D:null)};a.refresh=(r={})=>t._asyncDataPromises[n]?t._asyncDataPromises[n]:r._initial&&f()?t.payload.data[n]:(a.pending.value=!0,t._asyncDataPromises[n]=Promise.resolve(s(t)).then(i=>{e.transform&&(i=e.transform(i)),e.pick&&(i=K(i,e.pick)),a.data.value=i,a.error.value=null}).catch(i=>{a.error.value=i,a.data.value=p(e.default())}).finally(()=>{a.pending.value=!1,t.payload.data[n]=a.data.value,a.error.value&&(t.payload._errors[n]=!0),delete t._asyncDataPromises[n]}),t._asyncDataPromises[n]);const l=()=>a.refresh({_initial:!0}),k=e.server!==!1&&t.payload.serverRendered;{k&&t.isHydrating&&n in t.payload.data?a.pending.value=!1:u&&t.payload.serverRendered&&(t.isHydrating||e.lazy)?u._nuxtOnBeforeMountCbs.push(l):l(),e.watch&&E(e.watch,()=>a.refresh());const r=t.hook("app:data:refresh",i=>{if(!i||i.includes(n))return a.refresh()});u&&x(r)}const d=Promise.resolve(t._asyncDataPromises[n]).then(()=>a);return Object.assign(d,a),d}function K(o,c){const n={};for(const s of c)n[s]=o[s];return n}function L(o,c,n){const[s,e]=typeof c=="string"?[{},c]:[c,n],t=s.key||e;if(!t||typeof t!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+t);if(!o)throw new Error("[nuxt] [useFetch] request is missing.");const u="$f"+t,f=M(()=>{let r=o;return typeof r=="function"&&(r=r()),P(r)?r.value:r}),{server:a,lazy:l,default:k,transform:d,pick:y,watch:m,initialCache:h,..._}=s,v={..._,cache:typeof s.cache=="boolean"?void 0:s.cache},g={server:a,lazy:l,default:k,transform:d,pick:y,initialCache:h,watch:[f,...m||[]]};return q(u,()=>$fetch(f.value,v),g,"$Y1nhoWDLED")}const V={_banner:"banner",_cover:"cover",_menu:"menu",_trend:"trend",_representCategory:"representCategory",_recommendation:"recommendation",_newest:"newest",_comingSoon:"comingSoon",_funtoonChoice:"funtoonChoice"},W={class:"h-[auto] bg-white"},U=S("h1",null," Hello nuxt ",-1),Q=R({__name:"index",setup(o){const{data:c}=L("/api/home","$jMIaxtnjWR");return(n,s)=>(w(),C("main",W,[U,(w(!0),C(j,null,z(p(c),(e,t,u,f)=>{const a=p(c);if(f&&f.key===e._id&&$(f,a))return f;const l=(w(),C("div",{key:e._id},[e.type===p(V)._representCategory?(w(),I(p(A),{key:0,record:e},null,8,["record"])):T("",!0)]));return l.memo=a,l},s,0),128))]))}});export{Q as default};
